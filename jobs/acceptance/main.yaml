- project:
    name: 'acceptance-qemu'
    jobs:
        # - 'trigger-qemu-kvm-rhev'
        # - 'trigger-qemu-kvm'
        - 'trigger'
        - 'runtest-x86_64'
        - 'runtest-ppc64le'


# - job-group:
#     name: 'trigger-qemu-kvm-rhev'
#     jobs:
#         - 'pipeline-{component}-{osversion}-trigger'
#     component: 'qemu-kvm-rhev'
#     tag_pattern: 'rhevh-rhel%candidate'
#     osversion:
#         - 'el7':
#             rel_pattern: '%.el7'
#             hardwares: 'x86_64-intel x86_64-amd ppc64le-power8'
#         - 'el7-alt':
#             rel_pattern: '%.el7'
#             hardwares: 'ppc64le-power9'
#         - 'el7uz':
#             rel_pattern: '%.el7%.%'
#             hardwares: 'x86_64-intel x86_64-amd ppc64le-power8'
#         - 'el6':
#             rel_pattern: '%.el6'
#             hardwares: 'x86_64-intel x86_64-amd'
#         - 'el6uz':
#             rel_pattern: '%.el6%.%'
#             hardwares: 'x86_64-intel x86_64-amd'


# - job-group:
#     name: 'trigger-qemu-kvm'
#     jobs:
#         - 'pipeline-{component}-{osversion}-trigger'
#     component: 'qemu-kvm'
#     tag_pattern: '%candidate'
#     osversion:
#         - 'el7':
#             rel_pattern: '%.el7'
#             hardwares: 'x86_64-intel x86_64-amd'
#         - 'el7uz':
#             rel_pattern: '%.el7%.%'
#             hardwares: 'x86_64-intel x86_64-amd'


- job-group:
    name: 'trigger'
    jobs:
        - 'pipeline-{component}-{osversion}-trigger'
    component:
        - 'qemu-kvm':
            tag_pattern: '%candidate'
        - 'qemu-kvm-rhev':
            tag_pattern: 'rhevh-rhel%candidate'
    osversion:
        - 'el7':
            rel_pattern: '%.el7'
        - 'el7-alt':
            rel_pattern: '%.el7'
        - 'el7uz':
            rel_pattern: '%.el7%.%'
        - 'el6':
            rel_pattern: '%.el6'
        - 'el6uz':
            rel_pattern: '%.el6%.%'
    exclude:
        - component: 'qemu-kvm'
          osversion: 'el6'
        - component: 'qemu-kvm'
          osversion: 'el6uz'
        - component: 'qemu-kvm'
          osversion: 'el7-alt'

- job-group:
    name: 'runtest-x86_64'
    script_path: 'jobs/acceptance/scripts/runtest-x86_64.groovy'
    jobs:
        - 'pipeline-{component}-{osversion}-{hardware}-runtest'
    component:
        - 'qemu-kvm-rhev'
        - 'qemu-kvm'
    osversion:
        - 'el7'
        - 'el7uz'
        - 'el6'
        - 'el6uz'
    hardware:
        - 'x86_64-intel'
        - 'x86_64-amd'
    exclude:
        - component: 'qemu-kvm'
          osversion: 'el6'
        - component: 'qemu-kvm'
          osversion: 'el6uz'


- job-group:
    name: 'runtest-ppc64le'
    script_path: 'jobs/acceptance/scripts/runtest-ppc64le.groovy'
    jobs:
        - 'pipeline-{component}-{osversion}-{hardware}-runtest'
    component:
        - 'qemu-kvm-rhev'
    osversion:
        - 'el7'
        - 'el7-alt'
        - 'el7uz'
    hardware:
        - 'ppc64le-power8'
        - 'ppc64le-power9'
    exclude:
        - hardware: 'ppc64le-power8'
          osversion: 'el7-alt'
        - hardware: 'ppc64le-power9'
          osversion: 'el7'
        - hardware: 'ppc64le-power9'
          osversion: 'el7uz'
